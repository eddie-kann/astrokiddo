<div class="cosmic-sky"></div>
<div class="cosmic-aurora"></div>
<div class="starfield"></div>
<div class="starfield-2"></div>

@if (loading$ | async) {
  <div
    class="fixed inset-0 z-[999] bg-black/70 backdrop-blur flex flex-col items-center justify-center text-white gap-3">
    <div class="text-6xl animate-bounce drop-shadow-lg">ðŸš€</div>
    <div class="text-lg font-semibold text-cosmic-accent tracking-wide">Launching your cosmic content...</div>
    <div class="text-sm text-cosmic-muted">Hang tight while we fetch data from NASA.</div>
  </div>
}
<nz-layout class="min-h-screen relative text-cosmic-text">
  <nz-header class="sticky top-0 z-50 bg-space-mid/70 backdrop-blur-xl shadow-cosmic">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex items-center justify-between gap-4 py-3 border-b border-white/10">
        <a routerLink="/home" class="flex items-center gap-3 text-white font-semibold text-xl tracking-tight">
        <span
          class="flex h-9 w-9 items-center justify-center rounded-2xl bg-white/10 border border-white/10 shadow-cosmic-glow">
          <i nz-icon nzType="rocket" nzTheme="outline" class="text-cosmic-accent"></i>
        </span>
          <div class="leading-tight">
            <div>AstroKiddo</div>
            <div class="text-xs text-cosmic-muted">Cosmic explorations</div>
          </div>
        </a>
        <nav class="hidden md:flex items-center gap-2">
          @for (link of navLinks; track link) {
            <a
              [routerLink]="link.path"
              routerLinkActive="text-cosmic-accent bg-white/5"
              class="px-3 py-2 rounded-xl text-sm font-medium text-cosmic-text hover:text-white hover:bg-white/10 transition">
              <i nz-icon [nzType]="link.icon" nzTheme="outline" class="mr-1"></i>
              {{ link.label }}
            </a>
          }
        </nav>
        <div class="hidden md:flex items-center gap-2">
          @for (link of externalLinks; track link) {
            <a
              [href]="link.href"
              target="_blank"
              rel="noreferrer noopener"
              class="p-2 rounded-full bg-white/5 text-cosmic-text hover:text-white hover:bg-white/10 transition"
              [attr.aria-label]="link.label">
              <i nz-icon [nzType]="link.icon" nzTheme="outline"></i>
            </a>
          }
        </div>
        <div class="md:hidden">
          <button nz-button nzType="default" nzShape="round" class="border-white/20 bg-white/10 text-white">Menu
          </button>
        </div>
      </div>
      <div class="md:hidden pb-3 pt-2">
        <div class="flex items-center justify-center gap-2 text-sm flex-wrap">
          @for (link of navLinks; track link) {
            <a
              [routerLink]="link.path"
              routerLinkActive="text-cosmic-accent bg-white/5"
              class="px-3 py-1 rounded-lg text-cosmic-text hover:text-white hover:bg-white/10 transition">
              {{ link.label }}
            </a>
          }
          <div class="flex items-center gap-2">
            @for (link of externalLinks; track link) {
              <a
                [href]="link.href"
                target="_blank"
                rel="noreferrer noopener"
                class="p-2 rounded-full bg-white/5 text-cosmic-text hover:text-white hover:bg-white/10 transition"
                [attr.aria-label]="link.label">
                <i nz-icon [nzType]="link.icon" nzTheme="outline"></i>
              </a>
            }
          </div>
        </div>
      </div>
    </div>
  </nz-header>

  <nz-content class="relative">
    <div class="max-w-6xl mx-auto px-4 pb-12 pt-8">
      <div class="relative overflow-hidden rounded-[32px] border border-white/10 bg-white/5 shadow-cosmic">
        <div class="cosmic-grid-lines absolute inset-0"></div>
        <main class="relative">
          <router-outlet></router-outlet>
        </main>
      </div>
    </div>
  </nz-content>
</nz-layout>
